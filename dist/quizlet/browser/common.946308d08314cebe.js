"use strict";(self.webpackChunkquizlet=self.webpackChunkquizlet||[]).push([[592],{5594:(d,i,t)=>{t.d(i,{H:()=>n,v:()=>o});class o{}class n{}},6434:(d,i,t)=>{t.d(i,{B:()=>s});var o=t(5619),n=t(7398),a=t(553),_=t(9212),l=t(3403),h=t(9862),g=t(703);let s=(()=>{class u{constructor(e,r,p){this.router=e,this.http=r,this.jwtHelper=p,this.userSubject=new o.X(JSON.parse(localStorage.getItem("user"))),this.user=this.userSubject.asObservable()}get userValue(){return this.userSubject.value}isAuthenticated(){const e=localStorage.getItem("token");return!!e&&!this.jwtHelper.isTokenExpired(e)}resetToken(){localStorage.setItem("token","")}login(e,r){return this.http.post(`${a.N.apiUrl}/User/Login`,{username:e,password:r}).pipe((0,n.U)(c=>(200===c.status&&(console.log("login ok"),this.token=c.data,localStorage.setItem("token",c.data.token),localStorage.setItem("refeshtoken",c.data.refreshToken),localStorage.setItem("userName",e)),c)))}logout(){localStorage.removeItem("token"),this.userSubject.next(null),this.router.navigate(["/home"])}register(e){return console.log("info user "+e),this.http.post(`${a.N.apiUrl}/User/CreateUser`,e).pipe((0,n.U)(r=>(200===r.status&&(console.log("register ok"),this.token=r.data,localStorage.setItem("token",r.data.token),localStorage.setItem("userName",r.data.userName),localStorage.setItem("refeshtoken",r.data.refreshToken)),r)))}getAll(){return this.http.get(`${a.N.apiUrl}/users`)}getById(e){return this.http.get(`${a.N.apiUrl}/users/${e}`)}update(e,r){return this.http.put(`${a.N.apiUrl}/users/${e}`,r).pipe((0,n.U)(p=>{if(e==this.userValue?.id){const c={...this.userValue,...r};localStorage.setItem("user",JSON.stringify(c)),this.userSubject.next(c)}return p}))}delete(e){return this.http.delete(`${a.N.apiUrl}/users/${e}`).pipe((0,n.U)(r=>(e==this.userValue?.id&&this.logout(),r)))}static#t=this.\u0275fac=function(r){return new(r||u)(_.LFG(l.F0),_.LFG(h.eN),_.LFG(g.N0))};static#e=this.\u0275prov=_.Yz7({token:u,factory:u.\u0275fac,providedIn:"root"})}return u})()},8811:(d,i,t)=>{t.d(i,{a:()=>_});var o=t(9212),n=t(6434),a=t(3403);let _=(()=>{class l{constructor(g,s){this.authService=g,this.router=s}canActivate(){return!!this.authService.isAuthenticated()||(this.router.navigateByUrl("auth/login"),!1)}static#t=this.\u0275fac=function(s){return new(s||l)(o.LFG(n.B),o.LFG(a.F0))};static#e=this.\u0275prov=o.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})()},8138:(d,i,t)=>{t.d(i,{c:()=>l});var o=t(9862),n=t(553),a=t(9212),_=t(703);let l=(()=>{class h{constructor(s,u){this.http=s,this.jwtHelper=u}getAll(s){return this.http.get(`${n.N.apiUrl}/StudySet/GetImageKeyWord?keyword=${s}`)}getStudySetList(s){return this.http.get(`${n.N.apiUrl}/StudySet/GetListStudySet?userName=${s}`)}getStudySetDetail(s){return this.http.get(`${n.N.apiUrl}/StudySet/GetStudySetDetail?id=${s}`)}createStudySet(s){let u=localStorage.getItem("userName");s.userName=u,(new o.WM).set("content-type","application/json").set("Access-Control-Allow-Origin","*");let r={headers:new o.WM({"Content-Type":"application/json"})};return this.http.post(`${n.N.apiUrl}/Studyset/CreateStudySet`,s,r)}static#t=this.\u0275fac=function(u){return new(u||h)(a.LFG(o.eN),a.LFG(_.N0))};static#e=this.\u0275prov=a.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"})}return h})()},553:(d,i,t)=>{t.d(i,{N:()=>o});const o={apiUrl:"https://quizbeapi.azurewebsites.net/api",envName:"DEV",production:!1,test:!1,i18nPrefix:""}}}]);